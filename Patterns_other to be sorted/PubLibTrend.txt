PubLibTrend

import theEccentricTrader/PubLibTrend/3


// This Pine Script™ code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © theEccentricTrader
//@version=6

// @description trend, multi-part trend, double trend and multi-part double trend conditions for indicator and strategy development
library('PubLibTrend')

/////////////
// IMPORTS //
/////////////

import theEccentricTrader/PubLibSwing/3 as sw

///////////////////////////
// CONDITIONAL VARIABLES //
///////////////////////////

shp_0 = sw.shp(0)
shp_1 = sw.shp(1)
shp_2 = sw.shp(2)
shp_3 = sw.shp(3)
shp_4 = sw.shp(4)
shp_5 = sw.shp(5)
shp_6 = sw.shp(6)
shp_7 = sw.shp(7)
shp_8 = sw.shp(8)
shp_9 = sw.shp(9)
shp_10 = sw.shp(10)
shp_11 = sw.shp(11)
shp_12 = sw.shp(12)
shp_13 = sw.shp(13)
shp_14 = sw.shp(14)
shp_15 = sw.shp(15)
shp_16 = sw.shp(16)
shp_17 = sw.shp(17)
shp_18 = sw.shp(18)
shp_19 = sw.shp(19)
shp_20 = sw.shp(20)
shp_21 = sw.shp(21)
shp_22 = sw.shp(22)
shp_23 = sw.shp(23)
shp_24 = sw.shp(24)
shp_25 = sw.shp(25)
shp_26 = sw.shp(26)

slp_0 = sw.slp(0)
slp_1 = sw.slp(1)
slp_2 = sw.slp(2)
slp_3 = sw.slp(3)
slp_4 = sw.slp(4)
slp_5 = sw.slp(5)
slp_6 = sw.slp(6)
slp_7 = sw.slp(7)
slp_8 = sw.slp(8)
slp_9 = sw.slp(9)
slp_10 = sw.slp(10)
slp_11 = sw.slp(11)
slp_12 = sw.slp(12)
slp_13 = sw.slp(13)
slp_14 = sw.slp(14)
slp_15 = sw.slp(15)
slp_16 = sw.slp(16)
slp_17 = sw.slp(17)
slp_18 = sw.slp(18)
slp_19 = sw.slp(19)
slp_20 = sw.slp(20)
slp_21 = sw.slp(21)
slp_22 = sw.slp(22)
slp_23 = sw.slp(23)
slp_24 = sw.slp(24)
slp_25 = sw.slp(25)
slp_26 = sw.slp(26)

////////////
// TRENDS //
////////////

// @function return line uptrend condition
// @returns bool
export rlut() =>
    shp_0 > shp_1

// @function downtrend condition
// @returns bool
export dt() =>
    shp_0 < shp_1

// @function uptrend condition
// @returns bool
export ut() =>
    slp_0 > slp_1

// @function return line downtrend condition
// @returns bool
export rldt() =>
    slp_0 < slp_1

// @function double top condition
// @returns bool
export dtop() =>
    shp_0 == shp_1

// @function double bottom condition
// @returns bool
export dbot() =>
    slp_0 == slp_1

///////////////////////
// MULTI-PART TRENDS //
///////////////////////

rlut_1p_var = rlut()
rlut_2p_var = rlut_1p_var and shp_1 > shp_2
rlut_3p_var = rlut_2p_var and shp_2 > shp_3
rlut_4p_var = rlut_3p_var and shp_3 > shp_4
rlut_5p_var = rlut_4p_var and shp_4 > shp_5
rlut_6p_var = rlut_5p_var and shp_5 > shp_6
rlut_7p_var = rlut_6p_var and shp_6 > shp_7
rlut_8p_var = rlut_7p_var and shp_7 > shp_8
rlut_9p_var = rlut_8p_var and shp_8 > shp_9
rlut_10p_var = rlut_9p_var and shp_9 > shp_10
rlut_11p_var = rlut_10p_var and shp_10 > shp_11
rlut_12p_var = rlut_11p_var and shp_11 > shp_12
rlut_13p_var = rlut_12p_var and shp_12 > shp_13
rlut_14p_var = rlut_13p_var and shp_13 > shp_14
rlut_15p_var = rlut_14p_var and shp_14 > shp_15
rlut_16p_var = rlut_15p_var and shp_15 > shp_16
rlut_17p_var = rlut_16p_var and shp_16 > shp_17
rlut_18p_var = rlut_17p_var and shp_17 > shp_18
rlut_19p_var = rlut_18p_var and shp_18 > shp_19
rlut_20p_var = rlut_19p_var and shp_19 > shp_20
rlut_21p_var = rlut_20p_var and shp_20 > shp_21
rlut_22p_var = rlut_21p_var and shp_21 > shp_22
rlut_23p_var = rlut_22p_var and shp_22 > shp_23
rlut_24p_var = rlut_23p_var and shp_23 > shp_24
rlut_25p_var = rlut_24p_var and shp_24 > shp_25
rlut_26p_var = rlut_25p_var and shp_25 > shp_26

// @function 1-part return line uptrend condition
// @returns bool
export rlut_1p() =>
    rlut_1p_var and not rlut_2p_var

// @function 2-part return line uptrend condition
// @returns bool
export rlut_2p() =>
    rlut_2p_var and not rlut_3p_var

// @function 3-part return line uptrend condition
// @returns bool
export rlut_3p() =>
    rlut_3p_var and not rlut_4p_var

// @function 4-part return line uptrend condition
// @returns bool
export rlut_4p() =>
    rlut_4p_var and not rlut_5p_var

// @function 5-part return line uptrend condition
// @returns bool
export rlut_5p() =>
    rlut_5p_var and not rlut_6p_var

// @function 6-part return line uptrend condition
// @returns bool
export rlut_6p() =>
    rlut_6p_var and not rlut_7p_var

// @function 7-part return line uptrend condition
// @returns bool
export rlut_7p() =>
    rlut_7p_var and not rlut_8p_var

// @function 8-part return line uptrend condition
// @returns bool
export rlut_8p() =>
    rlut_8p_var and not rlut_9p_var

// @function 9-part return line uptrend condition
// @returns bool
export rlut_9p() =>
    rlut_9p_var and not rlut_10p_var

// @function 10-part return line uptrend condition
// @returns bool
export rlut_10p() =>
    rlut_10p_var and not rlut_11p_var

// @function 11-part return line uptrend condition
// @returns bool
export rlut_11p() =>
    rlut_11p_var and not rlut_12p_var

// @function 12-part return line uptrend condition
// @returns bool
export rlut_12p() =>
    rlut_12p_var and not rlut_13p_var

// @function 13-part return line uptrend condition
// @returns bool
export rlut_13p() =>
    rlut_13p_var and not rlut_14p_var

// @function 14-part return line uptrend condition
// @returns bool
export rlut_14p() =>
    rlut_14p_var and not rlut_15p_var

// @function 15-part return line uptrend condition
// @returns bool
export rlut_15p() =>
    rlut_15p_var and not rlut_16p_var

// @function 16-part return line uptrend condition
// @returns bool
export rlut_16p() =>
    rlut_16p_var and not rlut_17p_var

// @function 17-part return line uptrend condition
// @returns bool
export rlut_17p() =>
    rlut_17p_var and not rlut_18p_var

// @function 18-part return line uptrend condition
// @returns bool
export rlut_18p() =>
    rlut_18p_var and not rlut_19p_var

// @function 19-part return line uptrend condition
// @returns bool
export rlut_19p() =>
    rlut_19p_var and not rlut_20p_var

// @function 20-part return line uptrend condition
// @returns bool
export rlut_20p() =>
    rlut_20p_var and not rlut_21p_var

// @function 21-part return line uptrend condition
// @returns bool
export rlut_21p() =>
    rlut_21p_var and not rlut_22p_var

// @function 22-part return line uptrend condition
// @returns bool
export rlut_22p() =>
    rlut_22p_var and not rlut_23p_var

// @function 23-part return line uptrend condition
// @returns bool
export rlut_23p() =>
    rlut_23p_var and not rlut_24p_var

// @function 24-part return line uptrend condition
// @returns bool
export rlut_24p() =>
    rlut_24p_var and not rlut_25p_var

// @function 25-part return line uptrend condition
// @returns bool
export rlut_25p() =>
    rlut_25p_var and not rlut_26p_var

dt_1p_var = dt()
dt_2p_var = dt_1p_var and shp_1 < shp_2
dt_3p_var = dt_2p_var and shp_2 < shp_3
dt_4p_var = dt_3p_var and shp_3 < shp_4
dt_5p_var = dt_4p_var and shp_4 < shp_5
dt_6p_var = dt_5p_var and shp_5 < shp_6
dt_7p_var = dt_6p_var and shp_6 < shp_7
dt_8p_var = dt_7p_var and shp_7 < shp_8
dt_9p_var = dt_8p_var and shp_8 < shp_9
dt_10p_var = dt_9p_var and shp_9 < shp_10
dt_11p_var = dt_10p_var and shp_10 < shp_11
dt_12p_var = dt_11p_var and shp_11 < shp_12
dt_13p_var = dt_12p_var and shp_12 < shp_13
dt_14p_var = dt_13p_var and shp_13 < shp_14
dt_15p_var = dt_14p_var and shp_14 < shp_15
dt_16p_var = dt_15p_var and shp_15 < shp_16
dt_17p_var = dt_16p_var and shp_16 < shp_17
dt_18p_var = dt_17p_var and shp_17 < shp_18
dt_19p_var = dt_18p_var and shp_18 < shp_19
dt_20p_var = dt_19p_var and shp_19 < shp_20
dt_21p_var = dt_20p_var and shp_20 < shp_21
dt_22p_var = dt_21p_var and shp_21 < shp_22
dt_23p_var = dt_22p_var and shp_22 < shp_23
dt_24p_var = dt_23p_var and shp_23 < shp_24
dt_25p_var = dt_24p_var and shp_24 < shp_25
dt_26p_var = dt_25p_var and shp_25 < shp_26

// @function 1-part downtrend condition
// @returns bool
export dt_1p() =>
    dt_1p_var and not dt_2p_var

// @function 2-part downtrend condition
// @returns bool
export dt_2p() =>
    dt_2p_var and not dt_3p_var

// @function 3-part downtrend condition
// @returns bool
export dt_3p() =>
    dt_3p_var and not dt_4p_var

// @function 4-part downtrend condition
// @returns bool
export dt_4p() =>
    dt_4p_var and not dt_5p_var

// @function 5-part downtrend condition
// @returns bool
export dt_5p() =>
    dt_5p_var and not dt_6p_var

// @function 6-part downtrend condition
// @returns bool
export dt_6p() =>
    dt_6p_var and not dt_7p_var

// @function 7-part downtrend condition
// @returns bool
export dt_7p() =>
    dt_7p_var and not dt_8p_var

// @function 8-part downtrend condition
// @returns bool
export dt_8p() =>
    dt_8p_var and not dt_9p_var

// @function 9-part downtrend condition
// @returns bool
export dt_9p() =>
    dt_9p_var and not dt_10p_var

// @function 10-part downtrend condition
// @returns bool
export dt_10p() =>
    dt_10p_var and not dt_11p_var

// @function 11-part downtrend condition
// @returns bool
export dt_11p() =>
    dt_11p_var and not dt_12p_var

// @function 12-part downtrend condition
// @returns bool
export dt_12p() =>
    dt_12p_var and not dt_13p_var

// @function 13-part downtrend condition
// @returns bool
export dt_13p() =>
    dt_13p_var and not dt_14p_var

// @function 14-part downtrend condition
// @returns bool
export dt_14p() =>
    dt_14p_var and not dt_15p_var

// @function 15-part downtrend condition
// @returns bool
export dt_15p() =>
    dt_15p_var and not dt_16p_var

// @function 16-part downtrend condition
// @returns bool
export dt_16p() =>
    dt_16p_var and not dt_17p_var

// @function 17-part downtrend condition
// @returns bool
export dt_17p() =>
    dt_17p_var and not dt_18p_var

// @function 18-part downtrend condition
// @returns bool
export dt_18p() =>
    dt_18p_var and not dt_19p_var

// @function 19-part downtrend condition
// @returns bool
export dt_19p() =>
    dt_19p_var and not dt_20p_var

// @function 20-part downtrend condition
// @returns bool
export dt_20p() =>
    dt_20p_var and not dt_21p_var

// @function 21-part downtrend condition
// @returns bool
export dt_21p() =>
    dt_21p_var and not dt_22p_var

// @function 22-part downtrend condition
// @returns bool
export dt_22p() =>
    dt_22p_var and not dt_23p_var

// @function 23-part downtrend condition
// @returns bool
export dt_23p() =>
    dt_23p_var and not dt_24p_var

// @function 24-part downtrend condition
// @returns bool
export dt_24p() =>
    dt_24p_var and not dt_25p_var

// @function 25-part downtrend condition
// @returns bool
export dt_25p() =>
    dt_25p_var and not dt_26p_var

ut_1p_var = ut()
ut_2p_var = ut_1p_var and slp_1 > slp_2
ut_3p_var = ut_2p_var and slp_2 > slp_3
ut_4p_var = ut_3p_var and slp_3 > slp_4
ut_5p_var = ut_4p_var and slp_4 > slp_5
ut_6p_var = ut_5p_var and slp_5 > slp_6
ut_7p_var = ut_6p_var and slp_6 > slp_7
ut_8p_var = ut_7p_var and slp_7 > slp_8
ut_9p_var = ut_8p_var and slp_8 > slp_9
ut_10p_var = ut_9p_var and slp_9 > slp_10
ut_11p_var = ut_10p_var and slp_10 > slp_11
ut_12p_var = ut_11p_var and slp_11 > slp_12
ut_13p_var = ut_12p_var and slp_12 > slp_13
ut_14p_var = ut_13p_var and slp_13 > slp_14
ut_15p_var = ut_14p_var and slp_14 > slp_15
ut_16p_var = ut_15p_var and slp_15 > slp_16
ut_17p_var = ut_16p_var and slp_16 > slp_17
ut_18p_var = ut_17p_var and slp_17 > slp_18
ut_19p_var = ut_18p_var and slp_18 > slp_19
ut_20p_var = ut_19p_var and slp_19 > slp_20
ut_21p_var = ut_20p_var and slp_20 > slp_21
ut_22p_var = ut_21p_var and slp_21 > slp_22
ut_23p_var = ut_22p_var and slp_22 > slp_23
ut_24p_var = ut_23p_var and slp_23 > slp_24
ut_25p_var = ut_24p_var and slp_24 > slp_25
ut_26p_var = ut_25p_var and slp_25 > slp_26

// @function 1-part uptrend condition
// @returns bool
export ut_1p() =>
    ut_1p_var and not ut_2p_var

// @function 2-part uptrend condition
// @returns bool
export ut_2p() =>
    ut_2p_var and not ut_3p_var

// @function 3-part uptrend condition
// @returns bool
export ut_3p() =>
    ut_3p_var and not ut_4p_var

// @function 4-part uptrend condition
// @returns bool
export ut_4p() =>
    ut_4p_var and not ut_5p_var

// @function 5-part uptrend condition
// @returns bool
export ut_5p() =>
    ut_5p_var and not ut_6p_var

// @function 6-part uptrend condition
// @returns bool
export ut_6p() =>
    ut_6p_var and not ut_7p_var

// @function 7-part uptrend condition
// @returns bool
export ut_7p() =>
    ut_7p_var and not ut_8p_var

// @function 8-part uptrend condition
// @returns bool
export ut_8p() =>
    ut_8p_var and not ut_9p_var

// @function 9-part uptrend condition
// @returns bool
export ut_9p() =>
    ut_9p_var and not ut_10p_var

// @function 10-part uptrend condition
// @returns bool
export ut_10p() =>
    ut_10p_var and not ut_11p_var

// @function 11-part uptrend condition
// @returns bool
export ut_11p() =>
    ut_11p_var and not ut_12p_var

// @function 12-part uptrend condition
// @returns bool
export ut_12p() =>
    ut_12p_var and not ut_13p_var

// @function 13-part uptrend condition
// @returns bool
export ut_13p() =>
    ut_13p_var and not ut_14p_var

// @function 14-part uptrend condition
// @returns bool
export ut_14p() =>
    ut_14p_var and not ut_15p_var

// @function 15-part uptrend condition
// @returns bool
export ut_15p() =>
    ut_15p_var and not ut_16p_var

// @function 16-part uptrend condition
// @returns bool
export ut_16p() =>
    ut_16p_var and not ut_17p_var

// @function 17-part uptrend condition
// @returns bool
export ut_17p() =>
    ut_17p_var and not ut_18p_var

// @function 18-part uptrend condition
// @returns bool
export ut_18p() =>
    ut_18p_var and not ut_19p_var

// @function 19-part uptrend condition
// @returns bool
export ut_19p() =>
    ut_19p_var and not ut_20p_var

// @function 20-part uptrend condition
// @returns bool
export ut_20p() =>
    ut_20p_var and not ut_21p_var

// @function 21-part uptrend condition
// @returns bool
export ut_21p() =>
    ut_21p_var and not ut_22p_var

// @function 22-part uptrend condition
// @returns bool
export ut_22p() =>
    ut_22p_var and not ut_23p_var

// @function 23-part uptrend condition
// @returns bool
export ut_23p() =>
    ut_23p_var and not ut_24p_var

// @function 24-part uptrend condition
// @returns bool
export ut_24p() =>
    ut_24p_var and not ut_25p_var

// @function 25-part uptrend condition
// @returns bool
export ut_25p() =>
    ut_25p_var and not ut_26p_var

rldt_1p_var = rldt()
rldt_2p_var = rldt_1p_var and slp_1 < slp_2
rldt_3p_var = rldt_2p_var and slp_2 < slp_3
rldt_4p_var = rldt_3p_var and slp_3 < slp_4
rldt_5p_var = rldt_4p_var and slp_4 < slp_5
rldt_6p_var = rldt_5p_var and slp_5 < slp_6
rldt_7p_var = rldt_6p_var and slp_6 < slp_7
rldt_8p_var = rldt_7p_var and slp_7 < slp_8
rldt_9p_var = rldt_8p_var and slp_8 < slp_9
rldt_10p_var = rldt_9p_var and slp_9 < slp_10
rldt_11p_var = rldt_10p_var and slp_10 < slp_11
rldt_12p_var = rldt_11p_var and slp_11 < slp_12
rldt_13p_var = rldt_12p_var and slp_12 < slp_13
rldt_14p_var = rldt_13p_var and slp_13 < slp_14
rldt_15p_var = rldt_14p_var and slp_14 < slp_15
rldt_16p_var = rldt_15p_var and slp_15 < slp_16
rldt_17p_var = rldt_16p_var and slp_16 < slp_17
rldt_18p_var = rldt_17p_var and slp_17 < slp_18
rldt_19p_var = rldt_18p_var and slp_18 < slp_19
rldt_20p_var = rldt_19p_var and slp_19 < slp_20
rldt_21p_var = rldt_20p_var and slp_20 < slp_21
rldt_22p_var = rldt_21p_var and slp_21 < slp_22
rldt_23p_var = rldt_22p_var and slp_22 < slp_23
rldt_24p_var = rldt_23p_var and slp_23 < slp_24
rldt_25p_var = rldt_24p_var and slp_24 < slp_25
rldt_26p_var = rldt_25p_var and slp_25 < slp_26

// @function 1-part return line downtrend condition
// @returns bool
export rldt_1p() =>
    rldt_1p_var and not rldt_2p_var

// @function 2-part return line downtrend condition
// @returns bool
export rldt_2p() =>
    rldt_2p_var and not rldt_3p_var

// @function 3-part return line downtrend condition
// @returns bool
export rldt_3p() =>
    rldt_3p_var and not rldt_4p_var

// @function 4-part return line downtrend condition
// @returns bool
export rldt_4p() =>
    rldt_4p_var and not rldt_5p_var

// @function 5-part return line downtrend condition
// @returns bool
export rldt_5p() =>
    rldt_5p_var and not rldt_6p_var

// @function 6-part return line downtrend condition
// @returns bool
export rldt_6p() =>
    rldt_6p_var and not rldt_7p_var

// @function 7-part return line downtrend condition
// @returns bool
export rldt_7p() =>
    rldt_7p_var and not rldt_8p_var

// @function 8-part return line downtrend condition
// @returns bool
export rldt_8p() =>
    rldt_8p_var and not rldt_9p_var

// @function 9-part return line downtrend condition
// @returns bool
export rldt_9p() =>
    rldt_9p_var and not rldt_10p_var

// @function 10-part return line downtrend condition
// @returns bool
export rldt_10p() =>
    rldt_10p_var and not rldt_11p_var

// @function 11-part return line downtrend condition
// @returns bool
export rldt_11p() =>
    rldt_11p_var and not rldt_12p_var

// @function 12-part return line downtrend condition
// @returns bool
export rldt_12p() =>
    rldt_12p_var and not rldt_13p_var

// @function 13-part return line downtrend condition
// @returns bool
export rldt_13p() =>
    rldt_13p_var and not rldt_14p_var

// @function 14-part return line downtrend condition
// @returns bool
export rldt_14p() =>
    rldt_14p_var and not rldt_15p_var

// @function 15-part return line downtrend condition
// @returns bool
export rldt_15p() =>
    rldt_15p_var and not rldt_16p_var

// @function 16-part return line downtrend condition
// @returns bool
export rldt_16p() =>
    rldt_16p_var and not rldt_17p_var

// @function 17-part return line downtrend condition
// @returns bool
export rldt_17p() =>
    rldt_17p_var and not rldt_18p_var

// @function 18-part return line downtrend condition
// @returns bool
export rldt_18p() =>
    rldt_18p_var and not rldt_19p_var

// @function 19-part return line downtrend condition
// @returns bool
export rldt_19p() =>
    rldt_19p_var and not rldt_20p_var

// @function 20-part return line downtrend condition
// @returns bool
export rldt_20p() =>
    rldt_20p_var and not rldt_21p_var

// @function 21-part return line downtrend condition
// @returns bool
export rldt_21p() =>
    rldt_21p_var and not rldt_22p_var

// @function 22-part return line downtrend condition
// @returns bool
export rldt_22p() =>
    rldt_22p_var and not rldt_23p_var

// @function 23-part return line downtrend condition
// @returns bool
export rldt_23p() =>
    rldt_23p_var and not rldt_24p_var

// @function 24-part return line downtrend condition
// @returns bool
export rldt_24p() =>
    rldt_24p_var and not rldt_25p_var

// @function 25-part return line downtrend condition
// @returns bool
export rldt_25p() =>
    rldt_25p_var and not rldt_26p_var

///////////////////
// DOUBLE TRENDS //
///////////////////

rlut = rlut()
dt = dt()
ut = ut()
rldt = rldt()

// @function double uptrend condition
// @returns bool
export dut() =>
    ut and rlut

// @function double downtrend condition
// @returns bool
export ddt() =>
    dt and rldt

//////////////////////////////
// MULTI-PART DOUBLE TRENDS //
//////////////////////////////

dut_1p_var = dut()
dut_2p_var = dut_1p_var and slp_1 > slp_2 and shp_1 > shp_2
dut_3p_var = dut_2p_var and slp_2 > slp_3 and shp_2 > shp_3
dut_4p_var = dut_3p_var and slp_3 > slp_4 and shp_3 > shp_4
dut_5p_var = dut_4p_var and slp_4 > slp_5 and shp_4 > shp_5
dut_6p_var = dut_5p_var and slp_5 > slp_6 and shp_5 > shp_6
dut_7p_var = dut_6p_var and slp_6 > slp_7 and shp_6 > shp_7
dut_8p_var = dut_7p_var and slp_7 > slp_8 and shp_7 > shp_8
dut_9p_var = dut_8p_var and slp_8 > slp_9 and shp_8 > shp_9
dut_10p_var = dut_9p_var and slp_9 > slp_10 and shp_9 > shp_10
dut_11p_var = dut_10p_var and slp_10 > slp_11 and shp_10 > shp_11
dut_12p_var = dut_11p_var and slp_11 > slp_12 and shp_11 > shp_12
dut_13p_var = dut_12p_var and slp_12 > slp_13 and shp_12 > shp_13
dut_14p_var = dut_13p_var and slp_13 > slp_14 and shp_13 > shp_14
dut_15p_var = dut_14p_var and slp_14 > slp_15 and shp_14 > shp_15
dut_16p_var = dut_15p_var and slp_15 > slp_16 and shp_15 > shp_16
dut_17p_var = dut_16p_var and slp_16 > slp_17 and shp_16 > shp_17
dut_18p_var = dut_17p_var and slp_17 > slp_18 and shp_17 > shp_18
dut_19p_var = dut_18p_var and slp_18 > slp_19 and shp_18 > shp_19
dut_20p_var = dut_19p_var and slp_19 > slp_20 and shp_19 > shp_20
dut_21p_var = dut_20p_var and slp_20 > slp_21 and shp_20 > shp_21
dut_22p_var = dut_21p_var and slp_21 > slp_22 and shp_21 > shp_22
dut_23p_var = dut_22p_var and slp_22 > slp_23 and shp_22 > shp_23
dut_24p_var = dut_23p_var and slp_23 > slp_24 and shp_23 > shp_24
dut_25p_var = dut_24p_var and slp_24 > slp_25 and shp_24 > shp_25
dut_26p_var = dut_25p_var and slp_25 > slp_26 and shp_25 > shp_26

// @function 1-part double uptrend condition
// @returns bool
export dut_1p() =>
    dut_1p_var and not dut_2p_var

// @function 2-part double uptrend condition
// @returns bool
export dut_2p() =>
    dut_2p_var and not dut_3p_var

// @function 3-part double uptrend condition
// @returns bool
export dut_3p() =>
    dut_3p_var and not dut_4p_var

// @function 4-part double uptrend condition
// @returns bool
export dut_4p() =>
    dut_4p_var and not dut_5p_var

// @function 5-part double uptrend condition
// @returns bool
export dut_5p() =>
    dut_5p_var and not dut_6p_var

// @function 6-part double uptrend condition
// @returns bool
export dut_6p() =>
    dut_6p_var and not dut_7p_var

// @function 7-part double uptrend condition
// @returns bool
export dut_7p() =>
    dut_7p_var and not dut_8p_var

// @function 8-part double uptrend condition
// @returns bool
export dut_8p() =>
    dut_8p_var and not dut_9p_var

// @function 9-part double uptrend condition
// @returns bool
export dut_9p() =>
    dut_9p_var and not dut_10p_var

// @function 10-part double uptrend condition
// @returns bool
export dut_10p() =>
    dut_10p_var and not dut_11p_var

// @function 11-part double uptrend condition
// @returns bool
export dut_11p() =>
    dut_11p_var and not dut_12p_var

// @function 12-part double uptrend condition
// @returns bool
export dut_12p() =>
    dut_12p_var and not dut_13p_var

// @function 13-part double uptrend condition
// @returns bool
export dut_13p() =>
    dut_13p_var and not dut_14p_var

// @function 14-part double uptrend condition
// @returns bool
export dut_14p() =>
    dut_14p_var and not dut_15p_var

// @function 15-part double uptrend condition
// @returns bool
export dut_15p() =>
    dut_15p_var and not dut_16p_var

// @function 16-part double uptrend condition
// @returns bool
export dut_16p() =>
    dut_16p_var and not dut_17p_var

// @function 17-part double uptrend condition
// @returns bool
export dut_17p() =>
    dut_17p_var and not dut_18p_var

// @function 18-part double uptrend condition
// @returns bool
export dut_18p() =>
    dut_18p_var and not dut_19p_var

// @function 19-part double uptrend condition
// @returns bool
export dut_19p() =>
    dut_19p_var and not dut_20p_var

// @function 20-part double uptrend condition
// @returns bool
export dut_20p() =>
    dut_20p_var and not dut_21p_var

// @function 21-part double uptrend condition
// @returns bool
export dut_21p() =>
    dut_21p_var and not dut_22p_var

// @function 22-part double uptrend condition
// @returns bool
export dut_22p() =>
    dut_22p_var and not dut_23p_var

// @function 23-part double uptrend condition
// @returns bool
export dut_23p() =>
    dut_23p_var and not dut_24p_var

// @function 24-part double uptrend condition
// @returns bool
export dut_24p() =>
    dut_24p_var and not dut_25p_var

// @function 25-part double uptrend condition
// @returns bool
export dut_25p() =>
    dut_25p_var and not dut_26p_var

ddt_1p_var = ddt()
ddt_2p_var = ddt_1p_var and shp_1 < shp_2 and slp_1 < slp_2
ddt_3p_var = ddt_2p_var and shp_2 < shp_3 and slp_2 < slp_3
ddt_4p_var = ddt_3p_var and shp_3 < shp_4 and slp_3 < slp_4
ddt_5p_var = ddt_4p_var and shp_4 < shp_5 and slp_4 < slp_5
ddt_6p_var = ddt_5p_var and shp_5 < shp_6 and slp_5 < slp_6
ddt_7p_var = ddt_6p_var and shp_6 < shp_7 and slp_6 < slp_7
ddt_8p_var = ddt_7p_var and shp_7 < shp_8 and slp_7 < slp_8
ddt_9p_var = ddt_8p_var and shp_8 < shp_9 and slp_8 < slp_9
ddt_10p_var = ddt_9p_var and shp_9 < shp_10 and slp_9 < slp_10
ddt_11p_var = ddt_10p_var and shp_10 < shp_11 and slp_10 < slp_11
ddt_12p_var = ddt_11p_var and shp_11 < shp_12 and slp_11 < slp_12
ddt_13p_var = ddt_12p_var and shp_12 < shp_13 and slp_12 < slp_13
ddt_14p_var = ddt_13p_var and shp_13 < shp_14 and slp_13 < slp_14
ddt_15p_var = ddt_14p_var and shp_14 < shp_15 and slp_14 < slp_15
ddt_16p_var = ddt_15p_var and shp_15 < shp_16 and slp_15 < slp_16
ddt_17p_var = ddt_16p_var and shp_16 < shp_17 and slp_16 < slp_17
ddt_18p_var = ddt_17p_var and shp_17 < shp_18 and slp_17 < slp_18
ddt_19p_var = ddt_18p_var and shp_18 < shp_19 and slp_18 < slp_19
ddt_20p_var = ddt_19p_var and shp_19 < shp_20 and slp_19 < slp_20
ddt_21p_var = ddt_20p_var and shp_20 < shp_21 and slp_20 < slp_21
ddt_22p_var = ddt_21p_var and shp_21 < shp_22 and slp_21 < slp_22
ddt_23p_var = ddt_22p_var and shp_22 < shp_23 and slp_22 < slp_23
ddt_24p_var = ddt_23p_var and shp_23 < shp_24 and slp_23 < slp_24
ddt_25p_var = ddt_24p_var and shp_24 < shp_25 and slp_24 < slp_25
ddt_26p_var = ddt_25p_var and shp_25 < shp_26 and slp_25 < slp_26

// @function 1-part double downtrend condition
// @returns bool
export ddt_1p() =>
    ddt_1p_var and not ddt_2p_var

// @function 2-part double downtrend condition
// @returns bool
export ddt_2p() =>
    ddt_2p_var and not ddt_3p_var

// @function 3-part double downtrend condition
// @returns bool
export ddt_3p() =>
    ddt_3p_var and not ddt_4p_var

// @function 4-part double downtrend condition
// @returns bool
export ddt_4p() =>
    ddt_4p_var and not ddt_5p_var

// @function 5-part double downtrend condition
// @returns bool
export ddt_5p() =>
    ddt_5p_var and not ddt_6p_var

// @function 6-part double downtrend condition
// @returns bool
export ddt_6p() =>
    ddt_6p_var and not ddt_7p_var

// @function 7-part double downtrend condition
// @returns bool
export ddt_7p() =>
    ddt_7p_var and not ddt_8p_var

// @function 8-part double downtrend condition
// @returns bool
export ddt_8p() =>
    ddt_8p_var and not ddt_9p_var

// @function 9-part double downtrend condition
// @returns bool
export ddt_9p() =>
    ddt_9p_var and not ddt_10p_var

// @function 10-part double downtrend condition
// @returns bool
export ddt_10p() =>
    ddt_10p_var and not ddt_11p_var

// @function 11-part double downtrend condition
// @returns bool
export ddt_11p() =>
    ddt_11p_var and not ddt_12p_var

// @function 12-part double downtrend condition
// @returns bool
export ddt_12p() =>
    ddt_12p_var and not ddt_13p_var

// @function 13-part double downtrend condition
// @returns bool
export ddt_13p() =>
    ddt_13p_var and not ddt_14p_var

// @function 14-part double downtrend condition
// @returns bool
export ddt_14p() =>
    ddt_14p_var and not ddt_15p_var

// @function 15-part double downtrend condition
// @returns bool
export ddt_15p() =>
    ddt_15p_var and not ddt_16p_var

// @function 16-part double downtrend condition
// @returns bool
export ddt_16p() =>
    ddt_16p_var and not ddt_17p_var

// @function 17-part double downtrend condition
// @returns bool
export ddt_17p() =>
    ddt_17p_var and not ddt_18p_var

// @function 18-part double downtrend condition
// @returns bool
export ddt_18p() =>
    ddt_18p_var and not ddt_19p_var

// @function 19-part double downtrend condition
// @returns bool
export ddt_19p() =>
    ddt_19p_var and not ddt_20p_var

// @function 20-part double downtrend condition
// @returns bool
export ddt_20p() =>
    ddt_20p_var and not ddt_21p_var

// @function 21-part double downtrend condition
// @returns bool
export ddt_21p() =>
    ddt_21p_var and not ddt_22p_var

// @function 22-part double downtrend condition
// @returns bool
export ddt_22p() =>
    ddt_22p_var and not ddt_23p_var

// @function 23-part double downtrend condition
// @returns bool
export ddt_23p() =>
    ddt_23p_var and not ddt_24p_var

// @function 24-part double downtrend condition
// @returns bool
export ddt_24p() =>
    ddt_24p_var and not ddt_25p_var

// @function 25-part double downtrend condition
// @returns bool
export ddt_25p() =>
    ddt_25p_var and not ddt_26p_var
